# استقرار سریع برنامه‌های NextJS


> [!IMPORTANT]
> توجه داشته باشید؛ تنها برنامه‌هایی که با `create-next-app` ساخته شده باشند، در پلتفرم Next لیارا قابل اجرا خواهند بود.


Liara CLI

[ویدیوی آموزشی](https://files.liara.ir/liara/nextjs/nextjs-cli.mp4)

برای استقرار با استفاده از ابزار [Liara CLI](../../../../references/liara-cli/about.md) کافیست تا مراحل زیر را طی کنید:

1) ترمینال را باز کنید و با اجرای دستور زیر، ابزار Liara CLI را بر روی سیستم خود نصب کنید:

```
npm install -g @liara/cli
```

> [!NOTE]
> دقت کنید که [npm و NodeJS](https://nodejs.org) باید بر روی سیستم‌عامل‌تان نصب باشد.

> [!IMPORTANT]
> در ویندوز، ترمینال باید بر روی CMD تنظیم باشد.

2) با اجرای دستور زیر، وارد حساب کاربری خود در لیارا، شوید:

```
liara login
```

3) با دستور زیر، [شبکه خصوصی](../../details/private-networks.md) برنامه خود را ایجاد کنید:

```
liara network create
```
در ادامه اجرای این دستور، باید یک نام برای شبکه جدید خود مشخص کنید. 



4) با اجرای دستور زیر، برنامه NextJS خود را ایجاد کنید.

```
liara create
```
در ادامه اجرای این دستور، باید به ترتیب، شناسه، نوع پلتفرم (که باید بر روی next تنظیم شود)، شبکه خصوصی و [پلن‌های نرم‌افزاری و سخت‌افزاری برنامه](../../details/plans/about.md)، مشخص شوند:

asciinema --> باید رکورد شود

5) برای آپلود نشدن فایل‌های اضافی، از `gitignore.` یا `liaraignore.` استفاده کنید و درون یکی از این دو فایل، اسامی دایرکتوری و فایل‌های اضافی را بیاورید. به عنوان مثال:

```gitignore
node_modules/
```

6) در فایل `package.json` موجود در مسیر اصلی پروژه؛ حتماً اسکریپت `start` را تعریف کنید؛ به عنوان مثال:

```json
{
    "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  }
}
```

7) با اجرای دستور زیر در مسیر اصلی پروژه، برنامه خود را  در لیارا مستقر کنید (بعد از `app--` شناسه برنامه خود را وارد کنید):

```
liara deploy --app=myapp --platform=next
```

Liara Console

برای استقرار با استفاده از [Liara Console](../../../../references/liara-console/about.md) کافیست تا مراحل زیر را طی کنید:


1) وارد حساب کاربری خود در لیارا شوید.

2) برنامه NextJS خود را با شناسه، [شبکه خصوصی](../../details/private-networks.md) و [پلن‌های نرم‌افزاری و سخت‌افزاری](../../details/plans/about.md) مدنظرتان ایجاد کنید.

3) پوشه‌ها و فایل‌های درون پروژه که قصد ندارید در لیارا آپلود شوند را از پوشه پروژه پاک کنید (به عنوان مثال پوشه node_modules را پاک کنید).

4) فایل `package.json` باید در مسیر اصلی پروژه‌تان قرار داشته باشد و اسکریپت‌ `start` آن، تعریف شده باشد، به عنوان مثال:

```json
{
    "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  }
}
```

5) پوشه پروژه را در یک فایل `zip` قرار دهید. فایل را کشیده و در باکس آپلود Liara Console رها کنید.

6) مرحله به مرحله استقرار را با Console جلو بروید و شخصی‌سازی‌های لازم را انجام دهید و در نهایت بر روی گزینه استقرار کلیک کنید تا عملیات استقرار، آغاز شود. 


> [!NOTE]
> لیارا با اجرای دستور `npm install` تمامی ماژول‌های موجود در فایل `package.json` را نصب می‌کند. پس حتماً اسامی آن‌ها باید در این فایل باشد.

> [!NOTE]
> لیارا، در ابتدا اسکریپت `build` را اجرا می‌کند و پس از آن، برای اجرای برنامه از اسکریپت `start`، استفاده می‌کند.

> [!TIP]
> همچنین بخوانید: [استقرار قدم به قدم برنامه‌های NextJS در لیارا](./how-tos/create-app.md)

