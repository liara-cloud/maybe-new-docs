# شبکه خصوصی 
شبکه‌ی خصوصی در لیارا این امکان را فراهم آورده تا برنامه‌های شما با سرعت و امنیت بیشتری بدون وجود محدودیت در پروتکل‌ها با هم ارتباط برقرار کنند. شما می‌توانید در لیارا، هر پروژه را در شبکه مخصوص خودش، مستقر کنید.

## کاربرد شبکه خصوصی چیست؟
شاید تا به حال بارها برای شما پیش آمده باشد که در حال کار بر روی چندین پروژه متفاوت باشید و پروژه‌های مختلفی را در پنل کاربری خود، مستقر کرده‌باشید.

به عنوان مثال فرض کنید که یک پروژه وبسایت فروشگاه لوازم الکترونیکی دارید و پروژه دومتان یک اپلیکیشن اندرویدی است. هر کدام از این دو پروژه، پلتفرم و دیتابیس‌های خاص خود را دارند اما تشخیص اینکه هر برنامه یا دیتابیس مربوط به کدام پروژه است؛ ممکن است کمی برای شما وقت‌گیر و خسته کننده باشد.

لیارا این مشکل را برای شما حل کرده است؛ شما می‌توانید در لیارا، پروژه‌ها و برنامه‌هایی که به یکدیگر مرتبط نیستند و با هم هیچ ارتباطی ندارند را در شبکه‌های خصوصی متفاوت از هم، مستقر کنید. این کار نه تنها باعث سهولت و افزایش نظم در تشخیص پروژه‌ها می‌شود؛ بلکه به صورت کامل ارتباط دو برنامه غیرمرتبط با همدیگر را، قطع می‌کند. و اینگونه شما می‌توانید بدون کمترین نگرانی، پروژه‌های متعدد خود را در لیارا مستقر کنید.

## ساخت شبکه خصوصی جدید
اگر که نیاز به شبکه خصوصی جدید دارید و قصد دارید که برنامه یا دیتابیس جدید خود را در شبکه جدیدی قرار بدهید؛ کافیست که در صفحات ساخت برنامه یا ساخت دیتابیس جدید، در قسمت شبکه خصوصی، بر روی گزینه **ساخت شبکه خصوصی جدید** کلیک کنید:

![create private network](https://files.liara.ir/liara/docs/create-private-network.png)

سپس کافیست در قسمت نام شبکه، یک نام دلخواه برای شبکه خصوصی جدید انتخاب کنید و پس از آن بر روی گزینه **ایجاد شبکه**، کلیک کنید:

![naming private network](https://files.liara.ir/liara/docs/naming-private-network.png)

اکنون شبکه شما ساخته شده و می‌توانید برنامه‌های مد نظر خود را در آن شبکه، ایجاد کنید.

## تنظیم شبکه خصوصی برای هر برنامه و دیتابیس

برای اینکه برنامه یا دیتابیس جدید را در شبکه خصوصی مدنظرخود قراردهید، کافیست تا در قسمت شبکه خصوصی، نام شبکه خود را انتخاب کنید تا برنامه یا دیتابیس، در آن مستقر شود و با برنامه‌ها و دیتابیس‌های دیگر موجود در آن شبکه، ارتباط برقرار کند.

![set private network](https://files.liara.ir/liara/docs/set-private-network.png)

پس از اینکه برنامه یا دیتابیس ساخته شد، در قسمت اطلاعات کلی آن، می‌توانید نام شبکه را نیز مشاهده بفرمایید:

![app private network](https://files.liara.ir/liara/docs/app-private-network.png)

## نحوه‌ی اتصال دو برنامه به یکدیگر در شبکه‌ی خصوصی
فرض کنید که قصد دارید با استفاده از برنامه دومی، یک‌سری از اطلاعات موجود در برنامه اولیه خود را پردازش کنید. برای انجام این کار، شما باید یک ارتباط بین این دو برنامه ایجاد کنید. 

به عنوان مثال، فرض کنید که یک فروشگاه اینترنی دارید و قصدتان این است که خواسته‌های مشتریان را با برنامه دوم‌تان، تحلیل و پردازش کنید.

فروشگاه فرضی ما با `NodeJS` و برنامه‌‌ای که اطلاعات کاربران را تحلیل می‌کند با `Python` توسعه داده شده است و به‌ترتیب شناسه‌‌های برنامه‌های ما، `market` و `market-ai` هستند. حال براساس سناریو فعلی نیاز داریم که مشخصات کاربران را از فروشگاه به برنامه `market-ai` ارسال کنیم و این کار به شکل زیر انجام خواهد شد:

```js
const axios = require('axios')

axios
.post('http://market-ai:2597/analyze', {
  age: '26',
  weight: '110',
  height: '190'
})
.then(res => {
  console.log(`statusCode: ${res.status}`)
  console.log(res)
})
.catch(error => {
  console.error(error)
})
```

> [!NOTE]
> توجه داشته باشید که برای دسترسی یک برنامه به برنامه‌ای دیگر، هر دو برنامه باید در یک شبکه خصوصی مشترک قرار گرفته باشند و تنها کافی است که شناسه‌‌ی برنامه به‌عنوان host وارد شود و همچنین فراموش نکنید که مقادیر port و endpoint را مشخص کنید.

## نحوه‌ی اتصال برنامه به دیتابیس در شبکه‌ی خصوصی
از آنجایی که سرعت و امنیت از شاخصه‌های کلیدی برنامه‌‌های شما هستند و به همین منظور می‌خواهید فقط برنامه‌‌های شما به دیتابیس‌هایتان دسترسی داشته باشند. بنابراین در قدم اول باید دسترسی از طریق شبکه‌ی عمومی را در زمان راه‌اندازی دیتابیس غیرفعال کنید.

![db access in private network](https://files.liara.ir/liara/docs/db-access.png)

> [!NOTE]
> البته درصورتی که دیتابیس شما از طریق شبکه‌ی عمومی در دسترس باشد، باز هم این امکان وجود دارد که برنامه‌های شما از طریق شبکه‌ی خصوصی به دیتابیس متصل شوند. البته اگر که در یک شبکه خصوصی مشترک قرار گرفته باشند.

درنهایت پس از راه‌اندازی دیتابیس و انتخاب شبکه خصوصی، می‌توانید وارد بخش نحوه‌ی اتصال دیتابیس شده و از آن اطلاعات برای اتصال به دیتابیس خود استفاده کنید. توجه داشته باشید فقط در صورتی می‌توانید یک برنامه را به دیتابیس متصل کنید که هر دو در یک شبکه خصوصی مشترک قرار گرفته باشند.

![db connection in private network](https://files.liara.ir/liara/docs/db-connect.png)

## برنامه‌های درون شبکه خصوصی مشترک
برای این‌که راحت‌تر برنامه‌ها و دیتابیس‌های درون یک شبکه خصوصی مشترک را تشخیص دهید، می‌توانید از رنگ‌بندی متمایز هر شبکه که در کنار سطر هر برنامه قرار گرفته است، استفاده کنید؛ بدیهی است که برنامه‌های با رنگ یکسان، در یک شبکه خصوصی مشترک قرار دارند:

![different private networks](https://files.liara.ir/liara/docs/different-private-networks.png)




